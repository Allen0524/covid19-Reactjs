{"version":3,"sources":["components/Infobox.js","components/RankDeath.js","components/RankRecovered.js","components/LineGraph.js","App.js","index.js"],"names":["Infobox","title","number","total","className","start","end","duration","separator","style","color","RankDeath","lists","sort","a","b","deaths","map","item","i","country","numeral","format","RankRecovered","recovered","option","scales","xAxes","type","time","parser","yAxes","ticks","callback","value","index","LineGraph","useState","data","setData","useEffect","axios","get","then","res","d","keys","Object","cases","values","tempData","g","f","console","log","getData","options","App","countries","setCountries","setCountry","countryInfo","setCountryInfo","rankData","setRankData","getdata","onCountryPicked","e","selCountry","target","url","FormControl","Select","variant","onChange","MenuItem","name","todayCases","todayRecovered","todayDeaths","ReactDOM","render","document","getElementById"],"mappings":"qUAiCeA,MA7Bf,YAA0C,IAAxBC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,OAAQC,EAAQ,EAARA,MAE7B,OAAa,MAAVD,EACQ,cAIP,sBAAKE,UAAU,UAAf,UACI,6BAAKH,IACL,6BACI,cAAC,IAAD,CACII,MAAO,EACPC,IAAKJ,EACLK,SAAU,IACVC,UAAU,QAGlB,+BACI,cAAC,IAAD,CACIH,MAAO,EACPC,IAAKH,EACLI,SAAU,IACVC,UAAU,MALlB,IAMO,sBAAMC,MAAO,CAACC,MAAO,aAArB,2B,0BCFJC,MArBf,YAA+B,IAAVC,EAAS,EAATA,MACjB,OACI,sBAAKR,UAAU,YAAf,UACI,qBAAKA,UAAU,YAAf,SACI,0CAGJ,qBAAKA,UAAU,QAAf,SACc,MAATQ,EAAgBA,EAAMC,MAAK,SAACC,EAAEC,GAAH,OAAQD,EAAEE,OAASD,EAAEC,OAAS,GAAK,KAC9DC,KAAI,SAACC,EAAMC,GAAP,OAAY,sBAAaf,UAAU,YAAvB,UACb,6BAAKc,EAAKE,UACV,qBAAIhB,UAAU,aAAd,UAA4BiB,IAAQH,EAAKF,QAAQM,OAAO,OACxD,sBAAMb,MAAO,CAACC,MAAO,QAArB,0BAHuBS,MAIR,4C,OCbpB,SAASI,EAAT,GAAmC,IAAVX,EAAS,EAATA,MACpC,OACI,sBAAKR,UAAU,gBAAf,UACI,qBAAKA,UAAU,gBAAf,SACI,6CAGJ,qBAAKA,UAAU,QAAf,SACc,MAATQ,EAAgBA,EAAMC,MAAK,SAACC,EAAEC,GAAH,OAAQD,EAAEU,UAAYT,EAAES,UAAY,GAAK,KACpEP,KAAI,SAACC,EAAMC,GAAP,OAAY,sBAAaf,UAAU,YAAvB,UACb,6BAAKc,EAAKE,UACV,qBAAIhB,UAAU,aAAd,UAA4BiB,IAAQH,EAAKM,WAAWF,OAAO,OAC3D,sBAAMb,MAAO,CAACC,MAAO,QAArB,0BAHuBS,MAIR,2C,oCCT7BM,EAAS,CACXC,OAAQ,CACJC,MAAO,CACH,CACIC,KAAK,OACLC,KAAM,CACHC,OAAQ,gBAInBC,MAAO,CACH,CACIC,MAAO,CACHC,SAAU,SAASC,EAAOC,GACtB,OAAOd,IAAQa,GAAOZ,OAAO,aA+CtCc,MAvCf,WAAsB,IAAD,EACOC,mBAAS,IADhB,mBACVC,EADU,KACJC,EADI,KA+BjB,OA1BAC,qBAAU,YACO,uCAAG,sCAAA1B,EAAA,sEACI2B,IAAMC,IAAI,6DACzBC,MAAK,SAAAC,GAAG,OAAIA,EAAIN,QAFL,OACNO,EADM,OAGNC,EAAOC,OAAOD,KAAKD,EAAEG,OACrBC,EAASF,OAAOE,OAAOJ,EAAEG,OACzBE,EAAW,GAEXC,EAAI,IADJC,EAAI,IAET,KAAWH,EACZG,EAAC,YAAkB,iBACnBA,EAAC,gBAAsB,sBACvBA,EAAC,MAAY,QACbD,EAAE,GAAKC,EACPC,QAAQC,IAAIF,GACZF,EAAQ,OAAaJ,EACrBI,EAAQ,SAAeC,EAEvBZ,EAAQW,GACRG,QAAQC,IAAIJ,GAlBA,4CAAH,qDAoBbK,KAEF,IAIE,sBAAKnD,UAAU,YAAf,UACI,wCACA,cAAC,OAAD,CAAMkC,KAAMA,EAAMkB,QAAS/B,Q,2BC+BxBgC,MAlFf,WAAgB,IAAD,EACqBpB,mBAAS,IAD9B,mBACNqB,EADM,KACKC,EADL,OAEiBtB,mBAAS,OAF1B,mBAENjB,EAFM,KAEGwC,EAFH,OAGyBvB,mBAAS,IAHlC,mBAGNwB,EAHM,KAGOC,EAHP,OAImBzB,mBAAS,IAJ5B,mBAIN0B,EAJM,KAIIC,EAJJ,KAMbxB,qBAAU,YACK,uCAAE,4BAAA1B,EAAA,sEACM2B,IAAMC,IAAI,4CAC5BC,MAAK,SAAAC,GAAG,OAAKA,EAAIN,KAAKoB,aAFV,OACPpB,EADO,OAIbqB,EAAarB,GAJA,2CAAF,qDAMb2B,KACC,IAGHzB,qBAAU,WACRC,IAAMC,IAAI,sCACTC,MAAK,SAAAC,GAAG,OAAIkB,EAAelB,EAAIN,WAC/B,IAGH,IAAM4B,EAAe,uCAAG,WAAOC,GAAP,iBAAArD,EAAA,6DAChBsD,EAAaD,EAAEE,OAAOnC,MAC5B0B,EAAWQ,GACPE,EAAmB,QAAbF,EAAqB,qCAArB,mDAAwGA,GAC/F,YAAfA,IACFE,EAAM,mDALc,SAOhB7B,IAAMC,IAAI4B,GAAK3B,MAAK,SAAAC,GACxBkB,EAAelB,EAAIN,SARC,2CAAH,sDAiBrB,OAJAE,qBAAU,WACRC,IAAMC,IAAI,4CAA4CC,MAAK,SAAAC,GAAG,OAAIoB,EAAYpB,EAAIN,WAClF,IAGA,sBAAKlC,UAAU,MAAf,UAEE,sBAAKA,UAAU,cAAf,UACE,yCACA,cAACmE,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAQC,QAAQ,WAAWC,SAAUR,EAAiBhC,MAAOd,EAA7D,UACE,cAACuD,EAAA,EAAD,CAAUzC,MAAOd,EAAjB,SAA2BA,IAC1BsC,EAAUzC,KAAI,SAACG,EAASD,GAAV,OACb,cAACwD,EAAA,EAAD,CAAkBzC,MAAOd,EAAQwD,KAAjC,SAAwCxD,EAAQwD,MAAjCzD,cAMvB,sBAAKf,UAAU,eAAf,UACE,sBAAKA,UAAU,aAAf,UACE,cAAC,EAAD,CAASH,MAAM,YAAYE,MAAO0D,EAAYb,MAAO9C,OAAQ2D,EAAYgB,aACzE,cAAC,EAAD,CAAS5E,MAAM,YAAYE,MAAO0D,EAAYrC,UAAWtB,OAAQ2D,EAAYiB,iBAC7E,cAAC,EAAD,CAAS7E,MAAM,SAASE,MAAO0D,EAAY7C,OAAQd,OAAQ2D,EAAYkB,iBAIzE,sBAAK3E,UAAU,aAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,cAAC,EAAD,CAAWQ,MAAOmD,IAClB,cAAC,EAAD,CAAenD,MAAOmD,OAGxB,qBAAK3D,UAAU,aAAf,SACI,cAAC,EAAD,gBC7Ed4E,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,U","file":"static/js/main.52165334.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Infobox.css';\r\nimport CountUp from 'react-countup';\r\n\r\nfunction Infobox({title, number, total}) {\r\n\r\n    if(number == null) {\r\n        return 'Loading....'\r\n    }\r\n    \r\n    return (\r\n        <div className=\"infobox\">\r\n            <h4>{title}</h4>\r\n            <h1>\r\n                <CountUp\r\n                    start={0}\r\n                    end={number}\r\n                    duration={2.5}\r\n                    separator=\",\"\r\n                />\r\n            </h1>\r\n            <h5>\r\n                <CountUp\r\n                    start={0}\r\n                    end={total}\r\n                    duration={2.5}\r\n                    separator=\",\"\r\n                /> <span style={{color: 'lightgray'}}> total</span>\r\n            </h5>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Infobox\r\n","import React from 'react';\r\nimport './RankDeath.css'\r\nimport numeral from 'numeral';\r\n\r\nfunction RankDeath( {lists} ) {\r\n    return (\r\n        <div className=\"rankdeath\">\r\n            <div className=\"titleWrap\">\r\n                <h1>Deaths</h1>\r\n                {/* <h2>Top 20</h2> */}\r\n            </div>\r\n            <div className=\"scope\">\r\n                {lists != null ? lists.sort((a,b)=>(a.deaths < b.deaths ? 1 : -1))\r\n                .map((item, i)=>(<div key={i} className=\"deathItem\">\r\n                    <h4>{item.country}</h4>\r\n                    <h5 className=\"deathDigit\">{numeral(item.deaths).format('0,0')}\r\n                    <span style={{color: 'gray'}}> deaths</span>\r\n                    </h5></div>)): <h1>null</h1>}\r\n            </div>\r\n        </div>\r\n        // {lists != null ? lists.sort().map((item)=>(<h4>{item.country}</h4>)): <h1>null</h1>}\r\n        \r\n    )\r\n}\r\n\r\nexport default RankDeath\r\n","import React from 'react';\r\nimport './RankRecovered.css';\r\nimport numeral from 'numeral';\r\n\r\nexport default function RankRecovered({ lists }) {\r\n    return (\r\n        <div className=\"rankRecovered\">\r\n            <div className=\"recoveredWrap\">\r\n                <h1>Recovered</h1>\r\n                {/* <h2>Top 20</h2> */}\r\n            </div>\r\n            <div className=\"scope\">\r\n                {lists != null ? lists.sort((a,b)=>(a.recovered < b.recovered ? 1 : -1))\r\n                .map((item, i)=>(<div key={i} className=\"deathItem\">\r\n                    <h4>{item.country}</h4>\r\n                    <h5 className=\"deathDigit\">{numeral(item.recovered).format('0,0')}\r\n                    <span style={{color: 'gray'}}> deaths</span>\r\n                    </h5></div>)): <h1>null</h1>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport './LineGraph.css';\r\nimport {Line} from 'react-chartjs-2';\r\nimport {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport numeral from 'numeral';\r\n\r\n\r\nconst option = {\r\n    scales: {\r\n        xAxes: [\r\n            {\r\n                type:\"time\",\r\n                time: {\r\n                   parser: \"MM/DD/YYYY\" \r\n                }\r\n            }\r\n        ],\r\n        yAxes: [\r\n            {\r\n                ticks: {\r\n                    callback: function(value, index) {\r\n                        return numeral(value).format(\"0 a\")\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}\r\n\r\nfunction LineGraph() {\r\n    const [data, setData] = useState({}); \r\n\r\n    // https://disease.sh/v3/covid-19/historical/all?lastdays=120 (全球4個月的資料)\r\n\r\n    useEffect(() => {\r\n        const getData = async ()=>{\r\n            const d = await axios.get('https://disease.sh/v3/covid-19/historical/all?lastdays=30')\r\n            .then(res => res.data);\r\n            const keys = Object.keys(d.cases);\r\n            const values = Object.values(d.cases);\r\n            const tempData = {};\r\n            const f = {};\r\n            const g = [];\r\n            f['data'] = values;\r\n            f['borderColor'] = 'rgb(255,170,0)';\r\n            f['backgroundColor'] = 'rgba(190,170,0,0.5)'\r\n            f['label'] = 'Cases';\r\n            g[0] = f;\r\n            console.log(f)\r\n            tempData['labels'] = keys;\r\n            tempData['datasets'] = g;\r\n\r\n            setData(tempData);\r\n            console.log(tempData);\r\n        };\r\n        getData();\r\n\r\n    },[]);\r\n        \r\n\r\n    return (\r\n        <div className=\"linegraph\">\r\n            <h1>Figure</h1>\r\n            <Line data={data} options={option} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LineGraph\r\n","import {useEffect, useState} from 'react'\r\nimport './App.css';\r\nimport Infobox from './components/Infobox';\r\nimport RankDeath from './components/RankDeath';\r\nimport RankRecovered from './components/RankRecovered';\r\nimport LineGraph from './components/LineGraph';\r\nimport {\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n} from '@material-ui/core';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n  const [countries, setCountries] = useState([]);\r\n  const [country, setCountry] = useState(\"all\");\r\n  const [countryInfo, setCountryInfo] = useState({});\r\n  const [rankData, setRankData] = useState([]);\r\n  // get all country name\r\n  useEffect(() => {\r\n    const getdata= async () => {\r\n      const data = await axios.get(\"https://covid19.mathdro.id/api/countries\")\r\n      .then(res => (res.data.countries));\r\n      // console.log(data);\r\n      setCountries(data);\r\n    }\r\n    getdata();\r\n  }, []);\r\n\r\n  // get global data\r\n  useEffect(()=>{\r\n    axios.get(\"https://disease.sh/v3/covid-19/all\")\r\n    .then(res => setCountryInfo(res.data));\r\n  }, []);\r\n\r\n  // pick country\r\n  const onCountryPicked = async (e) => {\r\n    const selCountry = e.target.value;\r\n    setCountry(selCountry);\r\n    let url = selCountry==='all' ? 'https://disease.sh/v3/covid-19/all' : `https://disease.sh/v3/covid-19/countries/${selCountry}`;\r\n    if (selCountry === \"Taiwan*\"){\r\n      url = \"https://disease.sh/v3/covid-19/countries/Taiwan\";\r\n    }\r\n    await axios.get(url).then(res => {\r\n      setCountryInfo(res.data)\r\n    })\r\n  }\r\n\r\n  // get Rank Data\r\n  useEffect(()=>{\r\n    axios.get(\"https://disease.sh/v3/covid-19/countries\").then(res => setRankData(res.data));\r\n  },[]);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {/* Header */}\r\n      <div className=\"app__header\">\r\n        <h1>COVID19</h1>\r\n        <FormControl>\r\n          <Select variant=\"outlined\" onChange={onCountryPicked} value={country}>\r\n            <MenuItem value={country}>{country}</MenuItem>\r\n            {countries.map((country, i) => (\r\n              <MenuItem key={i} value={country.name}>{country.name}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      </div>\r\n      {/* Infobox on the top og the chart */}\r\n      <div className=\"app__content\">\r\n        <div className=\"app__stats\">\r\n          <Infobox title='Confirmed' total={countryInfo.cases} number={countryInfo.todayCases} />\r\n          <Infobox title='Recovered' total={countryInfo.recovered} number={countryInfo.todayRecovered} />\r\n          <Infobox title='Deaths' total={countryInfo.deaths} number={countryInfo.todayDeaths} />\r\n        </div>\r\n        {/* chart left */}\r\n        {/* Rank right */}\r\n        <div className=\"app__table\">\r\n          <div className=\"app__rankwrap\">\r\n            <RankDeath lists={rankData} />\r\n            <RankRecovered lists={rankData}/>\r\n          </div>\r\n          {/* Line Graph */}\r\n          <div className=\"app__graph\">\r\n              <LineGraph/>\r\n          </div>\r\n        </div>\r\n        \r\n\r\n      </div>\r\n      \r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}